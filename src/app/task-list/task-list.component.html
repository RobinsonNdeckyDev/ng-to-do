<div class="container mt-5">
  <!-- Loader -->
  <app-loader [isLoading]="isLoading"></app-loader>

  <!-- Formulaire pour ajouter ou modifier une tâche -->
  <form [formGroup]="taskForm" (ngSubmit)="saveTask()" class="mb-4">
    <div class="input-group">
      <input
        formControlName="taskName"
        class="form-control"
        placeholder="Nouvelle tâche"
      />
      <button type="submit" class="btn btn-primary">
        {{ editIndex === null ? 'Ajouter' : 'Modifier' }}
      </button>
      <button
        *ngIf="editIndex !== null"
        type="button"
        class="btn btn-secondary"
        (click)="cancelEdit()"
      >
        Annuler
      </button>
    </div>
  </form>

  <!-- Liste des tâches -->
  <ul class="list-group">
    <li *ngFor="let task of tasks; let i = index" class="list-group-item">
      <div class="d-flex justify-content-between align-items-center">
        <span (click)="showDetails(task)" class="task-name">{{ task }}</span>
        <div>
          <button (click)="startEdit(i)" class="btn btn-sm btn-warning me-2">
            Modifier
          </button>
          <button (click)="deleteTask(i)" class="btn btn-sm btn-danger">
            Supprimer
          </button>
        </div>
      </div>
    </li>
  </ul>

  <!-- Détails de la tâche sélectionnée -->
  <div *ngIf="selectedTask" class="mt-4">
    <h4>Détails de la tâche</h4>
    <div class="card">
      <div class="card-body">
        <p class="card-text">{{ selectedTask }}</p>
      </div>
    </div>
  </div>
</div>
